<!DOCTYPE html>
<html lang="en-US">

<head>
   <title>HTML5 - WebSockets - Tutorialspoint</title>
   <meta charset="utf-8">
   <meta name="description"
      content="HTML5 - WebSockets - WebSockets is a next-generation bidirectional communication technology for web applications which operates over a single socket and is exposed via a JavaScript " />
   <meta name="keywords"
      content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Programming, examples, code" />
   <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
   <link rel="stylesheet" href="../style.css">
   <script src="../script.js"></script>
</head>

<body>
   <header id="header">
      <!-- Top main-menu Starts Here -->
      <div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
         <div class="mui-container">
            <div class="left-menu">
               <img class="tp-logo" alt="tutorialspoint" src="../images/logo.png">
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Tutorial <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="index.html">01 - Home</a></li>
                           <li><a target="_top" href="overview.html">02 - Overview</a></li>
                           <li><a target="_top" href="syntax.html">03 - Syntax</a></li>
                           <li><a target="_top" href="attributes.html">04 - Attributes</a></li>
                           <li><a target="_top" href="events.html">05 - Events</a></li>
                           <li><a target="_top" href="web_forms2.html">06 - Web Forms 2.0</a></li>
                           <li><a target="_top" href="svg.html">07 - SVG</a></li>
                           <li><a target="_top" href="mathml.html">08 - MathML</a></li>
                           <li><a target="_top" href="web_storage.html">09 - Web Storage</a></li>
                           <li><a target="_top" href="web_sql.html">10 - Web SQL Database</a></li>
                           <li><a target="_top" href="server_sent_events.html">11 - Server-Sent Events</a></li>
                           <li><a target="_top" href="websocket.html">12 - WebSocket</a></li>
                           <li><a target="_top" href="canvas.html">13 - Canvas</a></li>
                           <li><a target="_top" href="audio_video.html">14 - Audio &amp; Video</a></li>
                           <li><a target="_top" href="geolocation.html">15 - Geolocation</a></li>
                           <li><a target="_top" href="microdata.html">16 - Microdata</a></li>
                           <li><a target="_top" href="drag_drop.html">17 - Drag &amp; drop</a></li>
                           <li><a target="_top" href="web_workers.html">18 - Web Workers</a></li>
                           <li><a target="_top" href="indexeddb.html">19 - IndexedDB</a></li>
                           <li><a target="_top" href="web_messaging.html">20 - Web Messaging</a></li>
                           <li><a target="_top" href="cors.html">21 - Web CORS</a></li>
                           <li><a target="_top" href="web_rtc.html">22 - Web RTC</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Demo <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="web_storage-demo.html">23 - Web Storage Demo</a></li>
                           <li><a target="_top" href="server_sent_events-demo.html">24 - Server SentEvents</a>
                           </li>
                           <li><a target="_top" href="canvas_demo.html">25 - Canvas Demo</a></li>
                           <li><a target="_top" href="audio_demo.html">26 - Audio Players Demo</a></li>
                           <li><a target="_top" href="video_demo.html">27 - Video Players Demo</a></li>
                           <li><a target="_top" href="geo_demo.html">28 - Geo-Location Demo</a></li>
                           <li><a target="_top" href="drag_demo.html">29 - Drag and Drop Demo</a></li>
                           <li><a target="_top" href="web_workers-demo.html">30 - Web Worker Demo</a></li>
                           <li><a target="_top" href="slide_desk-demo.html">31 - Web slide Desk Demo</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Tools <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="svg_tool.html">32 - SVG Generator </a></li>
                           <li><a target="_top" href="mathml-tool.html">33 - MathML Tool</a></li>
                           <li><a target="_top" href="velocity.html">34 - Velocity Draw </a></li>
                           <li><a target="_top" href="qr_code.html">35 - QR Code </a></li>
                           <li><a target="_top" href="validator.html">36 - Validator.nu Validation</a></li>
                           <li><a target="_top" href="modernizr.html">37 - Modernizr</a></li>
                           <li><a target="_top" href="validation.html">38 - Validation</a></li>
                           <li><a target="_top" href="online_editor.html">39 - Online Editor</a></li>
                           <li><a target="_top" href="color_code_builder.html">40 - Color Code Builder</a>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class=" mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 References <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="color_names.html">41 - Color Names</a></li>
                           <li><a target="_top" href="fonts.html">42 - Fonts Reference</a></li>
                           <li><a target="_top" href="url_encoding.html">43 - UR Encoding</a></li>
                           <li><a target="_top" href="entities.html">44 - Entities</a></li>
                           <li><a target="_top" href="character_encodings.html">45 - Char Encodings</a></li>
                           <li><a target="_top" href="tags.html">46 - Tags Reference</a></li>
                           <li><a target="_top" href="deprecated_tags.html">47 - Deprecated Tags</a></li>
                           <li><a target="_top" href="new_tags.html">48 - New Tags</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="right-menu">
               <a href="../index.html">
                  <button class="mui-btn mui-btn--primary mobile-menu">home</button>
               </a>
            </div>
         </div>
      </div>
      <!-- Top main-menu Ends Here jamal -->
   </header>
   <div class="mui-container-fluid content">
      <div class="mui-container">
         <!-- Tutorial Content Starts Here -->
         <div class="mui-col-md-12 tutorial-content">
            <div class="cover">
               <img class="img-responsive" src="../images/html5.jpg" alt="HTML5" />
            </div>
            <h1>HTML5 - WebSockets</h1>
            <hr />
            <br>
            <p>WebSockets is a next-generation bidirectional communication technology for web applications which
               operates over a single socket and is exposed via a JavaScript interface in HTML 5 compliant browsers.</p>
            <p>Once you get a Web Socket connection with the web server, you can send data from browser to server by
               calling a <b>send()</b> method, and receive data from server to browser by an <b>onmessage</b> event
               handler.</p>
            <p>Following is the API which creates a new WebSocket object.</p>
            <pre class="result notranslate">
var Socket = new WebSocket(url, [protocal] );
</pre>
            <p>Here first argument, url, specifies the URL to which to connect. The second attribute, protocol is
               optional, and if present, specifies a sub-protocol that the server must support for the connection to be
               successful.</p>
            <h2>WebSocket Attributes</h2>
            <p>Following are the attribute of WebSocket object. Assuming we created Socket object as mentioned above
               &minus;</p>
            <table class="table table-bordered">
               <tr>
                  <th style="text-align:center;">Sr.No.</th>
                  <th style="text-align:center;">Attribute &amp; Description</th>
               </tr>
               <tr>
                  <td style="text-align:center;vertical-align:middle">1</td>
                  <td>
                     <p><b>Socket.readyState</b></p>
                     <p>The readonly attribute readyState represents the state of the connection. It can have the
                        following values &minus;</p>
                     <ul class="list">
                        <li>
                           <p>A value of 0 indicates that the connection has not yet been established.</p>
                        </li>
                        <li>
                           <p>A value of 1 indicates that the connection is established and communication is possible.
                           </p>
                        </li>
                        <li>
                           <p>A value of 2 indicates that the connection is going through the closing handshake.</p>
                        </li>
                        <li>
                           <p>A value of 3 indicates that the connection has been closed or could not be opened.</p>
                        </li>
                     </ul>
                  </td>
               </tr>
               <tr>
                  <td style="text-align:center;vertical-align:middle">2</td>
                  <td>
                     <p><b>Socket.bufferedAmount</b></p>
                     <p>The readonly attribute bufferedAmount represents the number of bytes of UTF-8 text that have
                        been queued using send() method.</p>
                  </td>
               </tr>
            </table>
            <h2>WebSocket Events</h2>
            <p>Following are the events associated with WebSocket object. Assuming we created Socket object as mentioned
               above &minus;</p>
            <table class="table table-bordered">
               <tr>
                  <th class="ts">Event</th>
                  <th class="ts">Event Handler</th>
                  <th class="ts">Description</th>
               </tr>
               <tr>
                  <td>open</td>
                  <td>Socket.onopen</td>
                  <td>This event occurs when socket connection is established.</td>
               </tr>
               <tr>
                  <td>message</td>
                  <td>Socket.onmessage</td>
                  <td>This event occurs when client receives data from server.</td>
               </tr>
               <tr>
                  <td>error</td>
                  <td>Socket.onerror</td>
                  <td>This event occurs when there is any error in communication.</td>
               </tr>
               <tr>
                  <td>close</td>
                  <td>Socket.onclose</td>
                  <td>This event occurs when connection is closed.</td>
               </tr>
            </table>
            <h2>WebSocket Methods</h2>
            <p>Following are the methods associated with WebSocket object. Assuming we created Socket object as
               mentioned above &minus;</p>
            <table class="table table-bordered">
               <tr>
                  <th style="text-align:center;vertical-align:middle">Sr.No.</th>
                  <th style="text-align:center;vertical-align:middle">Method &amp; Description</th>
               </tr>
               <tr>
                  <td style="text-align:center;vertical-align:middle">1</td>
                  <td>
                     <p><b>Socket.send()</b></p>
                     <p>The send(data) method transmits data using the connection.</p>
                  </td>
               </tr>
               <tr>
                  <td style="text-align:center;vertical-align:middle">2</td>
                  <td>
                     <p><b>Socket.close()</b></p>
                     <p>The close() method would be used to terminate any existing connection.</p>
                  </td>
               </tr>
            </table>
            <h2>WebSocket Example</h2>
            <p>A WebSocket is a standard bidirectional TCP socket between the client and the server. The socket starts
               out as a HTTP connection and then "Upgrades" to a TCP socket after a HTTP handshake. After the handshake,
               either side can send data.</p>
            <h2>Client Side HTML &amp; JavaScript Code</h2>
            <p>At the time of writing this tutorial, there are only few web browsers supporting WebSocket() interface.
               You can try following example with latest version of Chrome, Mozilla, Opera and Safari.</p>
            <pre class="prettyprint notranslate">
&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
   &lt;head&gt;
      
      &lt;script type = "text/javascript"&gt;
         function WebSocketTest() {
            
            if ("WebSocket" in window) {
               alert("WebSocket is supported by your Browser!");
               
               // Let us open a web socket
               var ws = new WebSocket("ws://localhost:9998/echo");
				
               ws.onopen = function() {
                  
                  // Web Socket is connected, send data using send()
                  ws.send("Message to send");
                  alert("Message is sent...");
               };
				
               ws.onmessage = function (evt) { 
                  var received_msg = evt.data;
                  alert("Message is received...");
               };
				
               ws.onclose = function() { 
                  
                  // websocket is closed.
                  alert("Connection is closed..."); 
               };
            } else {
              
               // The browser doesn't support WebSocket
               alert("WebSocket NOT supported by your Browser!");
            }
         }
      &lt;/script&gt;
		
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;div id = "sse"&gt;
         &lt;a href = "javascript:WebSocketTest()"&gt;Run WebSocket&lt;/a&gt;
      &lt;/div&gt;
      
   &lt;/body&gt;
&lt;/html&gt;
</pre>
            <h2>Install pywebsocket</h2>
            <p>Before you test above client program, you need a server which supports WebSocket. Download
               mod_pywebsocket-x.x.x.tar.gz from <a rel="nofollow" href="https://code.google.com/p/pywebsocket/"
                  target="_blank">pywebsocket</a> which aims to provide a Web Socket extension for Apache HTTP Server
               and install it following these steps.</p>
            <ul class="list">
               <li>
                  <p>Unzip and untar the downloaded file.</p>
               </li>
               <li>
                  <p>Go inside <b>pywebsocket-x.x.x/src/</b> directory.</p>
               </li>
               <li>
                  <p>$python setup.py build</p>
               </li>
               <li>
                  <p>$sudo python setup.py install</p>
               </li>
               <li>
                  <p>Then read document by &minus;</p>
                  <ul class="list">
                     <li>$pydoc mod_pywebsocket</li>
                  </ul>
               </li>
            </ul>
            <p>This will install it into your python environment.</p>
            <h2>Start the Server</h2>
            <p>Go to the <b>pywebsocket-x.x.x/src/mod_pywebsocket</b> folder and run the following command &minus;</p>
            <pre class="result notranslate">
$sudo python standalone.py -p 9998 -w ../example/
</pre>
            <p>This will start the server listening at port 9998 and use the <b>handlers</b> directory specified by the
               -w option where our echo_wsh.py resides.</p>
            <p>Now using Chrome browser open the html file your created in the beginning. If your browser supports
               WebSocket(), then you would get alert indicating that your browser supports WebSocket and finally when
               you click on "Run WebSocket" you would get Goodbye message sent by the server script.</p>
            <div class="mui-container-fluid button-borders show" id="bottom_navigation">
               <div class="pre-btn">
                  <a href="server_sent_events.html"><i class="fal fa-chevron-circle-left"></i> Previous
                     Page</a>
               </div>
               <div class="nxt-btn">
                  <a href="canvas.html">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
               </div>
            </div>
         </div>
      </div>
   </div>
   <footer id="footer">
      <div class="mui--text-center">
         <div class="mui--text-caption mui--text-light">
            <a href="../index.html">
               <img class="img-responsive" src="../images/logo-black.png" alt="Tutorials" title="Tutorials">
            </a>
         </div>
         <ul class="mui-list--inline mui--text-body2 mui--text-light">
            <li><a href="../about/index.html"><i class="fal fa-home"></i> About us</a></li>
            <li><a href="../about/about_terms_of_use.html"><i class="fal fa-asterisk"></i> Terms of use</a></li>
            <li><a href="../about/about_privacy.html"><i class="fal fa-globe"></i> Privacy Policy</a></li>
            <li><a href="../about/about_cookies.html"><i class="fal fa-question-circle"></i> Cookies Policy</a></li>
            <li><a href="../about/tutorials_writing.html"><i class="fal fa-hands-helping"></i> Write for us</a></li>
            <li><a href="../about/contact_us.html"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
            <li><a href="../about/about_careers.html"><i class="fal fa-shield-check"></i> Careers</a></li>
         </ul>
         <div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2020. All Rights
            Reserved.</div>
      </div>
   </footer>
</body>

</html>