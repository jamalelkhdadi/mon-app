<!DOCTYPE html>
<html lang="en-US">

<head>
   <title>HTML5 - Web Workers - Tutorialspoint</title>
   <meta charset="utf-8">
   <meta name="description"
      content="HTML5 - Web Workers - JavaScript was designed to run in a single-threaded environment, meaning multiple scripts cannot run at the same time. Consider a situation where you need to ha" />
   <meta name="keywords"
      content="C, C++, Python, Java, HTML, CSS, JavaScript, SQL, PHP, jQuery, XML, DOM, Bootstrap, Programming, examples, code" />
   <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes">
   <link rel="stylesheet" href="../style.css">
   <script src="../script.js"></script>
</head>

<body>
   <header id="header">
      <!-- Top main-menu Starts Here -->
      <div class="mui-appbar mui-container-fulid mui--appbar-line-height mui--z1" id="logo-menu">
         <div class="mui-container">
            <div class="left-menu">
               <img class="tp-logo" alt="tutorialspoint" src="../images/logo.png">
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Tutorial <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="index.html">01 - Home</a></li>
                           <li><a target="_top" href="overview.html">02 - Overview</a></li>
                           <li><a target="_top" href="syntax.html">03 - Syntax</a></li>
                           <li><a target="_top" href="attributes.html">04 - Attributes</a></li>
                           <li><a target="_top" href="events.html">05 - Events</a></li>
                           <li><a target="_top" href="web_forms2.html">06 - Web Forms 2.0</a></li>
                           <li><a target="_top" href="svg.html">07 - SVG</a></li>
                           <li><a target="_top" href="mathml.html">08 - MathML</a></li>
                           <li><a target="_top" href="web_storage.html">09 - Web Storage</a></li>
                           <li><a target="_top" href="web_sql.html">10 - Web SQL Database</a></li>
                           <li><a target="_top" href="server_sent_events.html">11 - Server-Sent Events</a></li>
                           <li><a target="_top" href="websocket.html">12 - WebSocket</a></li>
                           <li><a target="_top" href="canvas.html">13 - Canvas</a></li>
                           <li><a target="_top" href="audio_video.html">14 - Audio &amp; Video</a></li>
                           <li><a target="_top" href="geolocation.html">15 - Geolocation</a></li>
                           <li><a target="_top" href="microdata.html">16 - Microdata</a></li>
                           <li><a target="_top" href="drag_drop.html">17 - Drag &amp; drop</a></li>
                           <li><a target="_top" href="web_workers.html">18 - Web Workers</a></li>
                           <li><a target="_top" href="indexeddb.html">19 - IndexedDB</a></li>
                           <li><a target="_top" href="web_messaging.html">20 - Web Messaging</a></li>
                           <li><a target="_top" href="cors.html">21 - Web CORS</a></li>
                           <li><a target="_top" href="web_rtc.html">22 - Web RTC</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Demo <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="web_storage-demo.html">23 - Web Storage Demo</a></li>
                           <li><a target="_top" href="server_sent_events-demo.html">24 - Server SentEvents</a>
                           </li>
                           <li><a target="_top" href="canvas_demo.html">25 - Canvas Demo</a></li>
                           <li><a target="_top" href="audio_demo.html">26 - Audio Players Demo</a></li>
                           <li><a target="_top" href="video_demo.html">27 - Video Players Demo</a></li>
                           <li><a target="_top" href="geo_demo.html">28 - Geo-Location Demo</a></li>
                           <li><a target="_top" href="drag_demo.html">29 - Drag and Drop Demo</a></li>
                           <li><a target="_top" href="web_workers-demo.html">30 - Web Worker Demo</a></li>
                           <li><a target="_top" href="slide_desk-demo.html">31 - Web slide Desk Demo</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class="mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 Tools <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="svg_tool.html">32 - SVG Generator </a></li>
                           <li><a target="_top" href="mathml-tool.html">33 - MathML Tool</a></li>
                           <li><a target="_top" href="velocity.html">34 - Velocity Draw </a></li>
                           <li><a target="_top" href="qr_code.html">35 - QR Code </a></li>
                           <li><a target="_top" href="validator.html">36 - Validator.nu Validation</a></li>
                           <li><a target="_top" href="modernizr.html">37 - Modernizr</a></li>
                           <li><a target="_top" href="validation.html">38 - Validation</a></li>
                           <li><a target="_top" href="online_editor.html">39 - Online Editor</a></li>
                           <li><a target="_top" href="color_code_builder.html">40 - Color Code Builder</a>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div class=" mui-dropdown">
                  <a class="mui-btn mui-btn--primary categories" data-mui-toggle="dropdown">
                     <i class="fa fa-th-large"></i>
                     <span> HTML5 References <span class="mui-caret"></span></span>
                  </a>
                  <ul class="mui-dropdown__menu cat-menu">
                     <li>
                        <ul>
                           <li><a target="_top" href="color_names.html">41 - Color Names</a></li>
                           <li><a target="_top" href="fonts.html">42 - Fonts Reference</a></li>
                           <li><a target="_top" href="url_encoding.html">43 - UR Encoding</a></li>
                           <li><a target="_top" href="entities.html">44 - Entities</a></li>
                           <li><a target="_top" href="character_encodings.html">45 - Char Encodings</a></li>
                           <li><a target="_top" href="tags.html">46 - Tags Reference</a></li>
                           <li><a target="_top" href="deprecated_tags.html">47 - Deprecated Tags</a></li>
                           <li><a target="_top" href="new_tags.html">48 - New Tags</a></li>
                        </ul>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="right-menu">
               <a href="../index.html">
                  <button class="mui-btn mui-btn--primary mobile-menu">home</button>
               </a>
            </div>
         </div>
      </div>
      <!-- Top main-menu Ends Here jamal -->
   </header>
   <div class="mui-container-fluid content">
      <div class="mui-container">
         <!-- Tutorial Content Starts Here -->
         <div class="mui-col-md-12 tutorial-content">
            <div class="cover">
               <img class="img-responsive" src="../images/html5.jpg" alt="HTML5" />
            </div>
            <h1>HTML5 - Web Workers</h1>
            <hr />
            <br>
            <p>JavaScript was designed to run in a single-threaded environment, meaning multiple scripts cannot run at
               the same time. Consider a situation where you need to handle UI events, query and process large amounts
               of API data, and manipulate the DOM.</p>
            <p>JavaScript will hang your browser in situation where CPU utilization is high. Let us take a simple
               example where JavaScript goes through a big loop &minus;</p>
            <div class="demo-view">
               <a href="http://tpcg.io/FPv46P" target="_blank" rel="nofollow" class="demo"><i
                     class="fa-external-link"></i> Live Demo</a>
            </div>
            <pre class="prettyprint notranslate">
&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Big for loop&lt;/title&gt;
      
      &lt;script&gt;
         function bigLoop() {
            
            for (var i = 0; i &lt;= 10000; i += 1) {
               var j = i;
            }
            alert("Completed " + j + "iterations" );
         }
         
         function sayHello(){
            alert("Hello sir...." );
         }
      &lt;/script&gt;
      
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;input type = "button" onclick = "bigLoop();" value = "Big Loop" /&gt;
      &lt;input type = "button" onclick = "sayHello();" value = "Say Hello" /&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
            <p>It will produce the following result &minus;</p>
            <iframe onload="resizeFrame(this)" class="result" src="/html5/src/web_worker.htm" height="100px"
               width="660px"></iframe>
            <p>When you click Big Loop button it displays following result in Firefox &minus;</p>
            <img src="/html5/images/bigloop.jpg" alt="Big Loop" />
            <h2>What is Web Workers?</h2>
            <p>The situation explained above can be handled using <b>Web Workers</b> who will do all the computationally
               expensive tasks without interrupting the user interface and typically run on separate threads.</p>
            <p>Web Workers allow for long-running scripts that are not interrupted by scripts that respond to clicks or
               other user interactions, and allows long tasks to be executed without yielding to keep the page
               responsive.</p>
            <p>Web Workers are background scripts and they are relatively heavy-weight, and are not intended to be used
               in large numbers. For example, it would be inappropriate to launch one worker for each pixel of a four
               megapixel image.</p>
            <p>When a script is executing inside a Web Worker it cannot access the web page's window object
               (window.document), which means that Web Workers don't have direct access to the web page and the DOM API.
               Although Web Workers cannot block the browser UI, they can still consume CPU cycles and make the system
               less responsive.</p>
            <h2>How Web Workers Work?</h2>
            <p>Web Workers are initialized with the URL of a JavaScript file, which contains the code the worker will
               execute. This code sets event listeners and communicates with the script that spawned it from the main
               page. Following is the simple syntax &minus;</p>
            <pre class="result notranslate">
var worker = new Worker('bigLoop.js');
</pre>
            <p>If the specified javascript file exists, the browser will spawn a new worker thread, which is downloaded
               asynchronously. If the path to your worker returns an 404 error, the worker will fail silently.</p>
            <p>If your application has multiple supporting JavaScript files, you can import them <b>importScripts()</b>
               method which takes file name(s) as argument separated by comma as follows &minus;</p>
            <pre class="result notranslate">
importScripts("helper.js", "anotherHelper.js");
</pre>
            <p>Once the Web Worker is spawned, communication between web worker and its parent page is done using the
               <b>postMessage()</b> method. Depending on your browser/version, postMessage() can accept either a string
               or JSON object as its single argument.</p>
            <p>Message passed by Web Worker is accessed using <b>onmessage</b> event in the main page. Now let us write
               our bigLoop example using Web Worker. Below is the main page (hello.htm) which will spawn a web worker to
               execute the loop and to return the final value of variable<b>j</b> &minus;</p>
            <div class="demo-view">
               <a href="http://tpcg.io/cWcw0d" target="_blank" rel="nofollow" class="demo"><i
                     class="fa-external-link"></i> Live Demo</a>
            </div>
            <pre class="prettyprint notranslate">
&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Big for loop&lt;/title&gt;
      
      &lt;script&gt;
         var worker = new Worker('bigLoop.js');
         
         worker.onmessage = function (event) {
            alert("Completed " + event.data + "iterations" );
         };
         
         function sayHello() {
            alert("Hello sir...." );
         }
      &lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;input type = "button" onclick = "sayHello();" value = "Say Hello"/&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
            <p>Following is the content of bigLoop.js file. This makes use of <b>postMessage()</b> API to pass the
               communication back to main page &minus;</p>
            <pre class="prettyprint notranslate">
for (var i = 0; i &lt;= 1000000000; i += 1) {
   var j = i;
}
postMessage(j);
</pre>
            <p>This will produce the following result &minus;</p>
            <iframe onload="resizeFrame(this)" class="result" src="/html5/src/webworkers.htm" height="100px"
               width="660px"></iframe>
            <h2>Stopping Web Workers</h2>
            <p>Web Workers don't stop by themselves but the page that started them can stop them by calling
               <b>terminate()</b> method.</p>
            <pre class="result notranslate">
worker.terminate();
</pre>
            <p>A terminated Web Worker will no longer respond to messages or perform any additional computations. You
               cannot restart a worker; instead, you can create a new worker using the same URL.</p>
            <h2>Handling Errors</h2>
            <p>The following shows an example of an error handling function in a Web Worker JavaScript file that logs
               errors to the console. With error handling code, above example would become as following &minus;</p>
            <pre class="prettyprint notranslate">
&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Big for loop&lt;/title&gt;
      
      &lt;script&gt;
         var worker = new Worker('bigLoop.js');
         
         worker.onmessage = function (event) {
            alert("Completed " + event.data + "iterations" );
         };
         
         worker.onerror = function (event) {
            console.log(event.message, event);
         };
         
         function sayHello() {
            alert("Hello sir...." );
         }
      &lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;input type = "button" onclick = "sayHello();" value = "Say Hello"/&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
            <h2>Checking for Browser Support</h2>
            <p>Following is the syntax to detect a Web Worker feature support available in a browser &minus;</p>
            <div class="demo-view">
               <a href="http://tpcg.io/Fmx7cx" target="_blank" rel="nofollow" class="demo"><i
                     class="fa-external-link"></i> Live Demo</a>
            </div>
            <pre class="prettyprint notranslate">
&lt;!DOCTYPE HTML&gt;

&lt;html&gt;
   &lt;head&gt;
      &lt;title&gt;Big for loop&lt;/title&gt;
      &lt;script src = "/js/modernizr-1.5.min.js"&gt;&lt;/script&gt;
      
      &lt;script&gt;
      function myFunction() {
         
         if (Modernizr.webworkers) {
            alert("Congratulation!! you have web workers support." );
         } else {
            alert("Sorry!! you do not have web workers support." );
         }
      }
      &lt;/script&gt;
   &lt;/head&gt;
   
   &lt;body&gt;
      &lt;button onclick = "myFunction()"&gt;Click me&lt;/button&gt;
   &lt;/body&gt;
&lt;/html&gt;
</pre>
            <p>This will produce the following result &minus;</p>
            <iframe onLoad="resizeFrame(this)" class="result" src="/html5/src/checking-browser-support.htm"
               height="100px" width="600px"></iframe>
            <div class="mui-container-fluid button-borders show" id="bottom_navigation">
               <div class="pre-btn">
                  <a href="drag_drop.html"><i class="fal fa-chevron-circle-left"></i> Previous Page</a>
               </div>
               <div class="nxt-btn">
                  <a href="indexeddb.html">Next Page <i class="fal fa-chevron-circle-right"></i>&nbsp;</a>
               </div>
            </div>
         </div>
      </div>
   </div>
   <footer id="footer">
      <div class="mui--text-center">
         <div class="mui--text-caption mui--text-light">
            <a href="../index.html">
               <img class="img-responsive" src="../images/logo-black.png" alt="Tutorials" title="Tutorials">
            </a>
         </div>
         <ul class="mui-list--inline mui--text-body2 mui--text-light">
            <li><a href="../about/index.html"><i class="fal fa-home"></i> About us</a></li>
            <li><a href="../about/about_terms_of_use.html"><i class="fal fa-asterisk"></i> Terms of use</a></li>
            <li><a href="../about/about_privacy.html"><i class="fal fa-globe"></i> Privacy Policy</a></li>
            <li><a href="../about/about_cookies.html"><i class="fal fa-question-circle"></i> Cookies Policy</a></li>
            <li><a href="../about/tutorials_writing.html"><i class="fal fa-hands-helping"></i> Write for us</a></li>
            <li><a href="../about/contact_us.html"><i class="fal fa-map-marker-alt"></i> Contact</a></li>
            <li><a href="../about/about_careers.html"><i class="fal fa-shield-check"></i> Careers</a></li>
         </ul>
         <div class="mui--text-caption mui--text-light bottom-copyright-text">&copy; Copyright 2020. All Rights
            Reserved.</div>
      </div>
   </footer>
</body>

</html>